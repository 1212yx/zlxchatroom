<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智联星队贪吃蛇</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* 内联 SVG 图标样式 */
        .icon-svg {
            width: 1em;
            height: 1em;
            vertical-align: -0.125em;
            fill: currentColor;
        }
        .icon-wrapper .icon-svg {
            width: 3rem;
            height: 3rem;
        }
        .logo .icon-svg {
            width: 3rem;
            height: 3rem;
            fill: #00e676;
        }
        .stat-icon .icon-svg {
            width: 1.5rem;
            height: 1.5rem;
            fill: white;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- 菜单界面 -->
        <div id="menu-screen" class="screen active">
            <header class="menu-header">
                <div class="logo">
                    <!-- Snake Icon -->
                    <svg class="icon-svg" viewBox="0 0 512 512"><path d="M416 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c17.67 0 32 14.33 32 32v128c0 17.67-14.33 32-32 32h-64c-17.67 0-32-14.33-32-32s-14.33-32-32-32h-64c-53.02 0-96 42.98-96 96s42.98 96 96 96h64c17.67 0 32 14.33 32 32s-14.33 32-32 32h-64c-88.37 0-160-71.63-160-160 0-88.37 71.63-160 160-160h64c17.67 0 32-14.33 32-32s-14.33-32-32-32h-64c-17.67 0-32-14.33-32-32s14.33-32 32-32h64c53.02 0 96 42.98 96 96s-42.98 96-96 96h-64c-17.67 0-32-14.33-32-32s14.33-32 32-32h64c17.67 0 32 14.33 32 32s-14.33 32-32 32h-64c-53.02 0-96-42.98-96-96s42.98-96 96-96h64c88.37 0 160 71.63 160 160 0 88.37-71.63 160-160 160h-64c-53.02 0-96 42.98-96 96s42.98 96 96 96h64c88.37 0 160-71.63 160-160V96c0-35.35 28.65-64 64-64h64c17.67 0 32-14.33 32-32s-14.33-32-32-32z"/></svg>
                    <h1>智联星队贪吃蛇</h1>
                </div>
                <p class="subtitle">选择你喜欢的游戏模式开始游戏</p>
            </header>
            
            <div class="mode-cards">
                <!-- 单人模式 -->
                <div class="card mode-card" data-mode="single">
                    <div class="icon-wrapper single-icon">
                        <!-- User Icon -->
                        <svg class="icon-svg" viewBox="0 0 448 512"><path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"/></svg>
                    </div>
                    <h2>单人模式</h2>
                    <p>经典贪吃蛇玩法，挑战自己的极限，获得最高分数。适合练习和放松。</p>
                    <ul class="features-list">
                        <li>经典游戏玩法</li>
                        <li>挑战最高分</li>
                        <li>无时间限制</li>
                        <li>适合新手练习</li>
                    </ul>
                    <button class="btn btn-primary start-btn" onclick="startGame('single')">开始单人游戏</button>
                </div>

                <!-- AI对战 -->
                <div class="card mode-card" data-mode="ai">
                    <div class="icon-wrapper ai-icon">
                        <!-- Robot Icon -->
                        <svg class="icon-svg" viewBox="0 0 640 512"><path d="M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224H64V416H48c-26.5 0-48-21.5-48-48V272c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H576V224h16z"/></svg>
                    </div>
                    <h2>AI对战</h2>
                    <p>与智能AI对手竞争，抢夺食物资源，考验你的策略和反应能力。</p>
                    <ul class="features-list">
                        <li>智能AI对手</li>
                        <li>竞争性玩法</li>
                        <li>策略性更强</li>
                        <li>初始100分制</li>
                    </ul>
                    <button class="btn btn-purple start-btn" onclick="startGame('ai')">挑战AI对手</button>
                </div>

                <!-- 多人对战 -->
                <div class="card mode-card" data-mode="multi">
                    <div class="icon-wrapper multi-icon">
                        <!-- Users Icon -->
                        <svg class="icon-svg" viewBox="0 0 640 512"><path d="M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM609.3 512H471.4c5.4-9.4 8.6-20.3 8.6-32v-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2h61.4C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"/></svg>
                    </div>
                    <h2>多人对战</h2>
                    <p>与朋友或其他玩家在线对战。加入AI对手，体验最刺激的多人竞技。</p>
                    <ul class="features-list">
                        <li>最多4名玩家</li>
                        <li>2个AI对手</li>
                        <li>实时在线对战</li>
                        <li>局域网支持</li>
                    </ul>
                    <button class="btn btn-blue start-btn" onclick="startGame('multi')">进入多人大厅</button>
                </div>
            </div>

            <!-- 排行榜区域 -->
            <div class="leaderboard-section">
                <h3>
                    <!-- Ranking Icon -->
                    <svg class="icon-svg" viewBox="0 0 576 512"><path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"/></svg>
                    排行榜 TOP 10
                </h3>
                <div class="leaderboard-container">
                    <table id="leaderboard-table">
                        <thead>
                            <tr>
                                <th>排名</th>
                                <th>玩家</th>
                                <th>分数</th>
                                <th>日期</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- 动态生成 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- 游戏主界面 -->
        <div id="game-screen" class="screen hidden">
            <div class="game-layout">
                <!-- 左侧：统计与说明 -->
                <div class="panel left-panel">
                    <div class="card stats-card">
                        <h3>游戏统计</h3>
                        <div class="stat-item">
                            <div class="stat-icon yellow">
                                <!-- Trophy Icon -->
                                <svg class="icon-svg" viewBox="0 0 576 512"><path d="M400 0H176c-26.5 0-48.1 21.8-47.1 48.2c.2 5.3 .4 10.6 .7 15.8H24C10.7 64 0 74.7 0 88c0 92.6 33.5 157 78.5 200.7c44.3 43.1 98.3 64.8 138.1 75.8c23.4 6.5 39.4 26 39.4 45.6c0 20.9-17 37.9-37.9 37.9H192c-17.7 0-32 14.3-32 32s14.3 32 32 32H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H357.9C337 448 320 431 320 410.1c0-19.6 15.9-39.2 39.4-45.6c39.9-11 93.9-32.7 138.2-75.8C542.5 245 576 180.6 576 88c0-13.3-10.7-24-24-24H446.4c.3-5.2 .5-10.4 .7-15.8C448.1 21.8 426.5 0 400 0zM48.9 112h84.4c9.1 90.1 29.2 150.3 51.9 190.6c-24.9-11-50.8-26.5-73.2-48.3c-32-31.1-58-76-63-142.3zM464.1 254.3c-22.4 21.8-48.3 37.3-73.2 48.3c22.7-40.3 42.8-100.5 51.9-190.6h84.4c-5.1 66.3-31.1 111.2-63.1 142.3z"/></svg>
                            </div>
                            <div class="stat-info">
                                <span class="label">得分</span>
                                <span class="value" id="score">0</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon green">
                                <!-- Ruler Icon -->
                                <svg class="icon-svg" viewBox="0 0 512 512"><path d="M160 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h96V32c0-17.7 14.3-32 32-32s32 14.3 32 32zM128 96H64V480H448V96H384V128c0 17.7-14.3 32-32 32s-32-14.3-32-32V96H192V128c0 17.7-14.3 32-32 32s-32-14.3-32-32V96zM256 224v96c0 17.7 14.3 32 32 32s32-14.3 32-32V224c0-17.7-14.3-32-32-32s-32 14.3-32 32z"/></svg>
                            </div>
                            <div class="stat-info">
                                <span class="label">长度</span>
                                <span class="value" id="length">0</span>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon blue">
                                <!-- Bolt Icon -->
                                <svg class="icon-svg" viewBox="0 0 384 512"><path d="M0 256L28.5 28c2-16 15.6-28 31.8-28H228.9c15 0 27.1 12.1 27.1 27.1c0 3.2-.6 6.5-1.7 9.5L208 160H347.3c20.2 0 36.7 16.4 36.7 36.7c0 7.4-2.2 14.6-6.4 20.7l-192.2 281c-5.9 8.6-15.6 13.7-25.9 13.7c-19.1 0-34.6-15.5-34.6-34.6c0-3.9 .8-7.8 2.3-11.5L176 320H64c-17.7 0-32-14.3-32-32c0-4.9 1.1-9.6 3.2-13.9L0 256z"/></svg>
                            </div>
                            <div class="stat-info">
                                <span class="label">最高分</span>
                                <span class="value" id="high-score">0</span>
                            </div>
                        </div>
                        <div class="stats-row">
                            <div class="mini-stat">
                                <span class="label">难度</span>
                                <span class="value" id="current-difficulty">中等</span>
                            </div>
                            <div class="mini-stat">
                                <span class="label">食物数</span>
                                <span class="value" id="food-count">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="card instruction-card">
                        <h3>游戏说明</h3>
                        <table class="key-table">
                            <thead>
                                <tr><th>按键</th><th>功能</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><kbd>↑</kbd> / <kbd>W</kbd></td><td>向上移动</td></tr>
                                <tr><td><kbd>↓</kbd> / <kbd>S</kbd></td><td>向下移动</td></tr>
                                <tr><td><kbd>←</kbd> / <kbd>A</kbd></td><td>向左移动</td></tr>
                                <tr><td><kbd>→</kbd> / <kbd>D</kbd></td><td>向右移动</td></tr>
                                <tr><td><kbd>Space</kbd></td><td>加速</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 中间：游戏画布 -->
                <div class="game-area">
                    <canvas id="game-canvas" width="600" height="600"></canvas>
                    <div id="game-overlay" class="hidden">
                        <div class="overlay-content">
                            <h2 id="overlay-title">游戏结束</h2>
                            <p id="overlay-message">你的得分: 100</p>
                            <button class="btn btn-primary" onclick="restartGame()">再玩一次</button>
                            <button class="btn btn-secondary" onclick="exitGame()">返回菜单</button>
                        </div>
                    </div>
                </div>

                <!-- 右侧：控制面板 -->
                <div class="panel right-panel">
                    <div class="card control-card">
                        <h3>
                            <!-- Gear Icon -->
                            <svg class="icon-svg" viewBox="0 0 512 512"><path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>
                            游戏控制
                        </h3>
                        
                        <div class="control-group">
                            <label>游戏模式</label>
                            <div class="mode-display">
                                <span class="mode-tag active" id="display-mode-single">单人模式</span>
                                <span class="mode-tag" id="display-mode-ai">AI对战</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label>游戏难度</label>
                            <div class="difficulty-selector">
                                <button class="diff-btn" data-diff="easy">简单</button>
                                <button class="diff-btn active" data-diff="medium">中等</button>
                                <button class="diff-btn" data-diff="hard">困难</button>
                                <button class="diff-btn" data-diff="expert">专家</button>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-success" id="btn-pause" onclick="togglePause()">暂停游戏</button>
                            <button class="btn btn-primary" onclick="restartGame()">重新开始</button>
                            <button class="btn btn-danger" onclick="exitGame()">退出游戏</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/food.js"></script>
    <script src="js/snake.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>